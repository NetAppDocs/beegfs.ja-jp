---
sidebar: sidebar 
permalink: custom-architectures-setup-cable-hw.html 
keywords: BeeGFS on NetApp, NetApp Custom Architectures, EF600 
summary: ネットアップでBeeGFSを実行するために使用するハードウェアを設置してケーブルを配線するための手順を説明します。 
---
= ハードウェアの設置とケーブル接続
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ネットアップでBeeGFSを実行するために使用するハードウェアを設置してケーブルを配線するための手順を説明します。



== インストールを計画します

各BeeGFSファイルシステムは、いくつかのブロックノードで提供されるバックエンドストレージを使用して、BeeGFSサービスを実行するいくつかのファイルノードで構成されます。BeeGFSサービスにフォールトトレランスを提供するために、ファイルノードは1つ以上のハイアベイラビリティクラスタに構成されます。各ブロックノードはすでにアクティブ/アクティブHAペアです。各HAクラスタでサポートされるファイルノードの最小数は3で、各クラスタでサポートされるファイルノードの最大数は10です。BeeGFSファイルシステムは、単一のファイルシステムネームスペースを提供するために連携する複数の独立したHAクラスタを導入することで、10ノードを超える規模に拡張できます。

一般に、各HAクラスタは一連の「ビルディングブロック」として導入されます。この場合、一部の数のファイルノード（x86サーバ）がいくつかのブロックノード（通常はEシリーズストレージシステム）に直接接続されます。この設定では、非対称クラスタが作成されます。BeeGFSサービスは、BeeGFSターゲットに使用されるバックエンドブロックストレージにアクセスできる特定のファイルノードでのみ実行できます。各ビルディングブロック内のファイルとブロックのノードと、直接接続に使用されるストレージプロトコルのバランスは、特定のインストール要件によって異なります。

別のHAクラスタアーキテクチャでは、ファイルノードとブロックノードの間にストレージファブリック（ストレージエリアネットワークまたはSANとも呼ばれます）を使用して対称型クラスタを確立します。これにより、BeeGFSサービスを特定のHAクラスタ内の任意のファイルノードで実行できるようになります。一般に対称クラスタは、追加のSANハードウェアによってコスト効率が高くないため、このドキュメントでは、非対称クラスタを1つ以上のビルディングブロックとして配置することを前提としています。


CAUTION: インストールを開始する前に、特定のBeeGFS導入に必要なファイルシステムアーキテクチャを十分に理解しておく必要があります。



== ラックハードウェア

設置を計画する場合、各ビルディングブロック内のすべての機器が隣接するラックユニットにラックに設置されることが重要です。ベストプラクティスとして、各ビルディングブロック内のブロックノードのすぐ上にファイルノードがラックに設置されるようにすることを推奨します。ファイルとのモデルについては、のマニュアルを参照してください link:https://docs.netapp.com/us-en/e-series/getting-started/getup-run-concept.html["ブロック"^] ラックにレールとハードウェアを設置するときに使用するノード。

単一のビルディングブロックの例：

image:../media/buildingblock-sr665v3.png["ビルディングブロックの例"]

大規模なBeeGFSインストールの例では、各HAクラスタに複数のビルディングブロックがあり、ファイルシステムに複数のHAクラスタがある場合を示します。

image:../media/beegfs-design-image3-small.png["BeeGFSの導入例"]



== ファイルノードとブロックノードをケーブル接続します

通常、EシリーズのブロックノードのHICポートは、ファイルノードの指定のホストチャネルアダプタ（InfiniBandプロトコルの場合）ポートまたはホストバスアダプタ（ファイバチャネルおよびその他のプロトコルの場合）ポートに直接接続します。これらの接続を確立する正確な方法は、目的のファイルシステムアーキテクチャによって異なります。次に例を示します link:beegfs-design-hardware-architecture.html["NetApp Verified Architecture上の第2世代BeeGFSに基づく"^]：

image:./directattachcable.png["例：ノードのケーブル接続をブロックするBeeGFSファイル"]



== ファイルノードをクライアントネットワークにケーブル接続します

各ファイルノードには、BeeGFSクライアントトラフィックに指定されたいくつかのInfiniBandポートまたはイーサネットポートがあります。アーキテクチャによっては、各ファイルノードは高パフォーマンスのクライアント/ストレージネットワークに1つ以上の接続を持ち、潜在的に複数のスイッチに接続して冗長性を確保し、帯域幅を増やします。次に、冗長ネットワークスイッチを使用したクライアントケーブル接続の例を示します。濃い緑で強調表示されたポートは別 々 のスイッチに接続されています。

image:./networkcable.png["BeeGFSクライアントのケーブル接続の例"]



== 管理ネットワークと電源を接続します

インバンドおよびアウトオブバンドネットワークに必要なネットワーク接続を確立します。

すべての電源装置を接続して、各ファイルノードとブロックノードが複数の配電ユニットに接続して冗長性を確保します（使用可能な場合）。
